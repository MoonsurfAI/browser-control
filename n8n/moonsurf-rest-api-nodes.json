{
  "name": "Moonsurf Browser Control - REST API",
  "nodes": [
    {
      "parameters": {},
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [0, 0],
      "id": "00000000-0000-0000-0000-000000000000",
      "name": "Start"
    },
    {
      "parameters": {
        "method": "GET",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, -1200],
      "id": "10000000-0000-0000-0000-000000000001",
      "name": "List Tools",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "GET",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/health",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, -1050],
      "id": "10000000-0000-0000-0000-000000000002",
      "name": "Health Check"
    },
    {
      "parameters": {
        "method": "GET",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/info",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, -900],
      "id": "10000000-0000-0000-0000-000000000003",
      "name": "Server Info"
    },

    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_instance",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"list\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, -600],
      "id": "20000000-0000-0000-0001-000000000001",
      "name": "Instance - List",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_instance",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"new\",\n  \"mode\": \"testing\",\n  \"url\": \"https://example.com\",\n  \"headless\": false\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, -450],
      "id": "20000000-0000-0000-0001-000000000002",
      "name": "Instance - New",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_instance",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"close\",\n  \"instanceId\": \"{{ $json.instanceId }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, -300],
      "id": "20000000-0000-0000-0001-000000000003",
      "name": "Instance - Close",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_instance",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"profiles\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, -150],
      "id": "20000000-0000-0000-0001-000000000004",
      "name": "Instance - Profiles",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },

    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_tab",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"list\",\n  \"instanceId\": \"{{ $json.instanceId }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 100],
      "id": "20000000-0000-0000-0002-000000000001",
      "name": "Tab - List",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_tab",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"new\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"url\": \"https://example.com\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 250],
      "id": "20000000-0000-0000-0002-000000000002",
      "name": "Tab - New",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_tab",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"close\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"tabId\": {{ $json.tabId }}\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 400],
      "id": "20000000-0000-0000-0002-000000000003",
      "name": "Tab - Close",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_tab",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"close_others\",\n  \"instanceId\": \"{{ $json.instanceId }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 550],
      "id": "20000000-0000-0000-0002-000000000004",
      "name": "Tab - Close Others",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_tab",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"activate\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"tabId\": {{ $json.tabId }}\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 700],
      "id": "20000000-0000-0000-0002-000000000005",
      "name": "Tab - Activate",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },

    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_navigate",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"goto\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"url\": \"{{ $json.url || 'https://example.com' }}\",\n  \"waitUntil\": \"load\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 950],
      "id": "20000000-0000-0000-0003-000000000001",
      "name": "Navigate - Goto",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_navigate",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"reload\",\n  \"instanceId\": \"{{ $json.instanceId }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 1100],
      "id": "20000000-0000-0000-0003-000000000002",
      "name": "Navigate - Reload",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_navigate",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"back\",\n  \"instanceId\": \"{{ $json.instanceId }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 1250],
      "id": "20000000-0000-0000-0003-000000000003",
      "name": "Navigate - Back",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_navigate",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"forward\",\n  \"instanceId\": \"{{ $json.instanceId }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 1400],
      "id": "20000000-0000-0000-0003-000000000004",
      "name": "Navigate - Forward",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_navigate",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"wait\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"selector\": \"{{ $json.selector }}\",\n  \"timeout\": 10000\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 1550],
      "id": "20000000-0000-0000-0003-000000000005",
      "name": "Navigate - Wait",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },

    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_content",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"screenshot\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"format\": \"png\",\n  \"fullPage\": false\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 1800],
      "id": "20000000-0000-0000-0004-000000000001",
      "name": "Content - Screenshot",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_content",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"pdf\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"format\": \"A4\",\n  \"landscape\": false\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 1950],
      "id": "20000000-0000-0000-0004-000000000002",
      "name": "Content - PDF",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_content",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"get\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"selector\": \"{{ $json.selector || 'body' }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 2100],
      "id": "20000000-0000-0000-0004-000000000003",
      "name": "Content - Get HTML",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_content",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"query\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"selector\": \"{{ $json.selector }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 2250],
      "id": "20000000-0000-0000-0004-000000000004",
      "name": "Content - Query Selector",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_content",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"attribute\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"selector\": \"{{ $json.selector }}\",\n  \"attribute\": \"{{ $json.attribute || 'href' }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 2400],
      "id": "20000000-0000-0000-0004-000000000005",
      "name": "Content - Get Attribute",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_content",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"get_viewport_dom\",\n  \"instanceId\": \"{{ $json.instanceId }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 2550],
      "id": "20000000-0000-0000-0004-000000000006",
      "name": "Content - Viewport DOM",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },

    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_interact",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"click\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"selector\": \"{{ $json.selector }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 2800],
      "id": "20000000-0000-0000-0005-000000000001",
      "name": "Interact - Click",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_interact",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"type\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"selector\": \"{{ $json.selector }}\",\n  \"text\": \"{{ $json.text }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 2950],
      "id": "20000000-0000-0000-0005-000000000002",
      "name": "Interact - Type",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_interact",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"press\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"key\": \"{{ $json.key || 'Enter' }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 3100],
      "id": "20000000-0000-0000-0005-000000000003",
      "name": "Interact - Press Key",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_interact",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"scroll\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"deltaY\": {{ $json.deltaY || 500 }}\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 3250],
      "id": "20000000-0000-0000-0005-000000000004",
      "name": "Interact - Scroll",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_interact",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"hover\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"selector\": \"{{ $json.selector }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 3400],
      "id": "20000000-0000-0000-0005-000000000005",
      "name": "Interact - Hover",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_interact",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"select\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"selector\": \"{{ $json.selector }}\",\n  \"value\": \"{{ $json.value }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 3550],
      "id": "20000000-0000-0000-0005-000000000006",
      "name": "Interact - Select",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_interact",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"upload\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"selector\": \"input[type=file]\",\n  \"files\": [\"{{ $json.filePath }}\"]\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 3700],
      "id": "20000000-0000-0000-0005-000000000007",
      "name": "Interact - Upload",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_interact",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"move\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"x\": {{ $json.x || 0 }},\n  \"y\": {{ $json.y || 0 }}\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 3850],
      "id": "20000000-0000-0000-0005-000000000008",
      "name": "Interact - Move Mouse",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },

    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_execute",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"expression\": \"{{ $json.expression || 'document.title' }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 4100],
      "id": "20000000-0000-0000-0006-000000000001",
      "name": "Execute - JavaScript",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },

    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_network",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"get_cookies\",\n  \"instanceId\": \"{{ $json.instanceId }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 4350],
      "id": "20000000-0000-0000-0007-000000000001",
      "name": "Network - Get Cookies",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_network",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"set_cookie\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"name\": \"{{ $json.cookieName }}\",\n  \"value\": \"{{ $json.cookieValue }}\",\n  \"domain\": \"{{ $json.domain }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 4500],
      "id": "20000000-0000-0000-0007-000000000002",
      "name": "Network - Set Cookie",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_network",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"clear_cookies\",\n  \"instanceId\": \"{{ $json.instanceId }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 4650],
      "id": "20000000-0000-0000-0007-000000000003",
      "name": "Network - Clear Cookies",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_network",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"set_headers\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"headers\": {\n    \"X-Custom-Header\": \"value\"\n  }\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 4800],
      "id": "20000000-0000-0000-0007-000000000004",
      "name": "Network - Set Headers",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_network",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"intercept\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"pattern\": \"*.png\",\n  \"resourceType\": \"image\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 4950],
      "id": "20000000-0000-0000-0007-000000000005",
      "name": "Network - Intercept",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_network",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"get_storage\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"key\": \"{{ $json.key }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 5100],
      "id": "20000000-0000-0000-0007-000000000006",
      "name": "Network - Get Storage",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_network",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"set_storage\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"key\": \"{{ $json.key }}\",\n  \"value\": \"{{ $json.value }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 5250],
      "id": "20000000-0000-0000-0007-000000000007",
      "name": "Network - Set Storage",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_network",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"clear_storage\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"storageType\": \"local\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 5400],
      "id": "20000000-0000-0000-0007-000000000008",
      "name": "Network - Clear Storage",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },

    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_emulate",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"viewport\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"width\": 1920,\n  \"height\": 1080,\n  \"deviceScaleFactor\": 1\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 5650],
      "id": "20000000-0000-0000-0008-000000000001",
      "name": "Emulate - Viewport",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_emulate",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"device\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"device\": \"iPhone 14\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 5800],
      "id": "20000000-0000-0000-0008-000000000002",
      "name": "Emulate - Device",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_emulate",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"geolocation\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"latitude\": 37.7749,\n  \"longitude\": -122.4194,\n  \"accuracy\": 100\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 5950],
      "id": "20000000-0000-0000-0008-000000000003",
      "name": "Emulate - Geolocation",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_emulate",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"timezone\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"timezoneId\": \"America/New_York\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 6100],
      "id": "20000000-0000-0000-0008-000000000004",
      "name": "Emulate - Timezone",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_emulate",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"user_agent\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"userAgent\": \"{{ $json.userAgent }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 6250],
      "id": "20000000-0000-0000-0008-000000000005",
      "name": "Emulate - User Agent",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_emulate",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"offline\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"enabled\": true\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 6400],
      "id": "20000000-0000-0000-0008-000000000006",
      "name": "Emulate - Offline",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_emulate",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"throttle\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"preset\": \"slow-3g\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 6550],
      "id": "20000000-0000-0000-0008-000000000007",
      "name": "Emulate - Throttle",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },

    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_debug",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"dialog\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"dialogAction\": \"accept\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 6800],
      "id": "20000000-0000-0000-0009-000000000001",
      "name": "Debug - Handle Dialog",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_debug",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"console\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"level\": \"all\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 6950],
      "id": "20000000-0000-0000-0009-000000000002",
      "name": "Debug - Console Logs",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_debug",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"performance\",\n  \"instanceId\": \"{{ $json.instanceId }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 7100],
      "id": "20000000-0000-0000-0009-000000000003",
      "name": "Debug - Performance",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_debug",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"trace_start\",\n  \"instanceId\": \"{{ $json.instanceId }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 7250],
      "id": "20000000-0000-0000-0009-000000000004",
      "name": "Debug - Trace Start",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_debug",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"trace_stop\",\n  \"instanceId\": \"{{ $json.instanceId }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 7400],
      "id": "20000000-0000-0000-0009-000000000005",
      "name": "Debug - Trace Stop",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_debug",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"downloads\",\n  \"instanceId\": \"{{ $json.instanceId }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 7550],
      "id": "20000000-0000-0000-0009-000000000006",
      "name": "Debug - Downloads",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/browser_debug",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"action\": \"download_wait\",\n  \"instanceId\": \"{{ $json.instanceId }}\",\n  \"downloadId\": \"{{ $json.downloadId }}\",\n  \"timeout\": 30000\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 7700],
      "id": "20000000-0000-0000-0009-000000000007",
      "name": "Debug - Download Wait",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    },

    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.baseUrl || 'http://localhost:3300' }}/api/tools/sleep",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"duration\": {{ $json.duration || 1000 }}\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [300, 7950],
      "id": "20000000-0000-0000-0010-000000000001",
      "name": "Sleep",
      "credentials": {
        "httpHeaderAuth": {
          "id": "moonsurf-auth",
          "name": "Moonsurf Auth"
        }
      }
    }
  ],
  "connections": {},
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "meta": {
    "templateCredsSetupCompleted": false,
    "instanceId": "moonsurf-browser-control-rest-api"
  },
  "tags": [
    {
      "name": "Moonsurf",
      "id": "moonsurf"
    },
    {
      "name": "Browser Automation",
      "id": "browser-automation"
    }
  ]
}
