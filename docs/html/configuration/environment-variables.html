<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Environment Variables - Moonsurf Documentation</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Poltawski+Nowy:wght@400;500;600;700&display=block" as="style">
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=block" as="style">
  <link rel="stylesheet" href="../assets/styles.css">
</head>
<body>
  <nav class="sidebar">
  <div class="sidebar-header">
    <a href="../index.html" class="logo">Moonsurf</a>
  </div>
  <ul class="nav-list">
    <li><a href="../index.html">Moonsurf Browser Control Documentation</a></li>
    <li class="nav-section">
      <span class="section-title"><i data-lucide="rocket"></i>Getting Started</span>
      <ul class="section-items">
        <li><a href="../getting-started/README.html">Overview</a></li>
        <li><a href="../getting-started/connecting-ai-clients.html">Connecting AI Clients</a></li>
        <li><a href="../getting-started/first-automation.html">First Automation</a></li>
        <li><a href="../getting-started/installation.html">Installation</a></li>
      </ul>
    </li>
    <li class="nav-section">
      <span class="section-title"><i data-lucide="lightbulb"></i>Concepts</span>
      <ul class="section-items">
        <li><a href="../concepts/README.html">Overview</a></li>
        <li><a href="../concepts/architecture.html">Architecture</a></li>
        <li><a href="../concepts/browser-modes.html">Browser Modes</a></li>
        <li><a href="../concepts/extension-communication.html">Extension Communication</a></li>
        <li><a href="../concepts/instance-lifecycle.html">Instance Lifecycle</a></li>
        <li><a href="../concepts/mcp-protocol.html">MCP Protocol</a></li>
      </ul>
    </li>
    <li class="nav-section">
      <span class="section-title"><i data-lucide="wrench"></i>Tools</span>
      <ul class="section-items">
        <li><a href="../tools/README.html">Overview</a></li>
        <li><a href="../tools/browser-content.html">browser_content</a></li>
        <li><a href="../tools/browser-debug.html">browser_debug</a></li>
        <li><a href="../tools/browser-emulate.html">browser_emulate</a></li>
        <li><a href="../tools/browser-execute.html">browser_execute</a></li>
        <li><a href="../tools/browser-instance.html">browser_instance</a></li>
        <li><a href="../tools/browser-interact.html">browser_interact</a></li>
        <li><a href="../tools/browser-navigate.html">browser_navigate</a></li>
        <li><a href="../tools/browser-network.html">browser_network</a></li>
        <li><a href="../tools/browser-tab.html">browser_tab</a></li>
      </ul>
    </li>
    <li class="nav-section open">
      <span class="section-title"><i data-lucide="settings"></i>Configuration</span>
      <ul class="section-items">
        <li><a href="../configuration/README.html">Overview</a></li>
        <li><a href="../configuration/authentication.html">Authentication</a></li>
        <li><a href="../configuration/environment-variables.html" class="active">Environment Variables</a></li>
        <li><a href="../configuration/local-mode.html">Local Mode</a></li>
        <li><a href="../configuration/remote-mode.html">Remote Mode</a></li>
        <li><a href="../configuration/security-hardening.html">Security Hardening</a></li>
        <li><a href="../configuration/tls-setup.html">TLS Setup</a></li>
      </ul>
    </li>
    <li class="nav-section">
      <span class="section-title"><i data-lucide="book-open"></i>Guides</span>
      <ul class="section-items">
        <li><a href="../guides/README.html">Overview</a></li>
        <li><a href="../guides/debugging-tips.html">Debugging Tips Guide</a></li>
        <li><a href="../guides/file-downloads.html">File Downloads Guide</a></li>
        <li><a href="../guides/form-filling.html">Form Filling Guide</a></li>
        <li><a href="../guides/handling-popups.html">Handling Popups Guide</a></li>
        <li><a href="../guides/network-interception.html">Network Interception Guide</a></li>
        <li><a href="../guides/testing-workflows.html">Testing Workflows Guide</a></li>
        <li><a href="../guides/web-scraping.html">Web Scraping Guide</a></li>
      </ul>
    </li>
    <li class="nav-section">
      <span class="section-title"><i data-lucide="plug"></i>Integration</span>
      <ul class="section-items">
        <li><a href="../integration/README.html">Overview</a></li>
        <li><a href="../integration/ci-cd.html">CI/CD Integration</a></li>
        <li><a href="../integration/claude-code.html">Claude Code Integration</a></li>
        <li><a href="../integration/claude-desktop.html">Claude Desktop Integration</a></li>
        <li><a href="../integration/cursor.html">Cursor Integration</a></li>
        <li><a href="../integration/custom-clients.html">Custom Client Integration</a></li>
      </ul>
    </li>
    <li class="nav-section">
      <span class="section-title"><i data-lucide="code"></i>Api Reference</span>
      <ul class="section-items">
        <li><a href="../api-reference/README.html">Overview</a></li>
        <li><a href="../api-reference/error-codes.html">Error Codes</a></li>
        <li><a href="../api-reference/http-endpoints.html">HTTP Endpoints</a></li>
        <li><a href="../api-reference/sse-protocol.html">SSE Protocol</a></li>
        <li><a href="../api-reference/websocket-protocol.html">WebSocket Protocol</a></li>
      </ul>
    </li>
    <li class="nav-section">
      <span class="section-title"><i data-lucide="list-checks"></i>Tasks</span>
      <ul class="section-items">
        <li><a href="../tasks/README.html">Overview</a></li>
        <li><a href="../tasks/architecture.html">Architecture Overview</a></li>
        <li><a href="../tasks/configuration.html">Configuration</a></li>
        <li><a href="../tasks/contributing.html">Contributing</a></li>
        <li><a href="../tasks/error-handling.html">Error Handling</a></li>
        <li><a href="../tasks/examples.html">Examples</a></li>
        <li><a href="../tasks/getting-started.html">Getting Started</a></li>
        <li><a href="../tasks/internals.html">Internals</a></li>
        <li><a href="../tasks/rest-api.html">REST API Reference</a></li>
        <li><a href="../tasks/task-format.html">Task Format</a></li>
        <li><a href="../tasks/websocket-api.html">WebSocket API Reference</a></li>
      </ul>
    </li>
    <li class="nav-section">
      <span class="section-title"><i data-lucide="terminal"></i>Development</span>
      <ul class="section-items">
        <li><a href="../development/README.html">Overview</a></li>
        <li><a href="../development/adding-tools.html">Adding Tools</a></li>
        <li><a href="../development/debugging.html">Debugging</a></li>
        <li><a href="../development/extension-development.html">Extension Development</a></li>
        <li><a href="../development/internals.html">Internals</a></li>
        <li><a href="../development/local-setup.html">Local Development Setup</a></li>
        <li><a href="../development/project-structure.html">Project Structure</a></li>
        <li><a href="../development/release-process.html">Release Process</a></li>
        <li><a href="../development/testing.html">Testing</a></li>
      </ul>
    </li>
  </ul>
  <div class="sidebar-footer">
    <div class="version">v2.0.0</div>
    <div class="generated">Generated 2026-01-26</div>
  </div>
</nav>

  <main class="content">
    <article>
      <h1>Environment Variables</h1>
<p>Complete reference for all Moonsurf configuration environment variables.</p>
<h2>Server Binding</h2>
<h3>PORT</h3>
<p>HTTP server port.</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Default</td><td><code>3300</code></td></tr><tr><td>Type</td><td>Integer</td></tr><tr><td>Example</td><td><code>PORT=8080</code></td></tr></tbody></table></div><h3>HOST</h3>
<p>Server bind address.</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Default</td><td><code>localhost</code> (local mode) or <code>0.0.0.0</code> (remote mode)</td></tr><tr><td>Type</td><td>String</td></tr><tr><td>Example</td><td><code>HOST=0.0.0.0</code></td></tr></tbody></table></div><h3>PUBLIC_URL</h3>
<p>Public URL for client-facing endpoints. Used when the server is behind a proxy or load balancer.</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Default</td><td>(none)</td></tr><tr><td>Type</td><td>URL</td></tr><tr><td>Example</td><td><code>PUBLIC_URL=https://api.example.com</code></td></tr></tbody></table></div><h3>REMOTE_MODE</h3>
<p>Enable remote mode. Sets defaults appropriate for accepting external connections.</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Default</td><td><code>false</code></td></tr><tr><td>Type</td><td>Boolean (<code>true</code>/<code>false</code> or <code>1</code>/<code>0</code>)</td></tr><tr><td>Example</td><td><code>REMOTE_MODE=true</code></td></tr></tbody></table></div><p><strong>When enabled:</strong></p>
<ul>
<li><code>HOST</code> defaults to <code>0.0.0.0</code></li>
<li><code>AUTH_ENABLED</code> defaults to <code>true</code></li>
<li><code>CORS_ENABLED</code> defaults to <code>true</code></li>
<li><code>RATE_LIMIT_ENABLED</code> defaults to <code>true</code></li>
<li><code>AUDIT_LOG_ENABLED</code> defaults to <code>true</code></li>
<li><code>HEADLESS_DEFAULT</code> defaults to <code>true</code></li>
</ul>
<h2>WebSocket Configuration</h2>
<h3>WS_PORT_START</h3>
<p>Starting port for browser instance WebSocket servers.</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Default</td><td><code>3301</code></td></tr><tr><td>Type</td><td>Integer</td></tr><tr><td>Example</td><td><code>WS_PORT_START=4001</code></td></tr></tbody></table></div><h3>WS_PORT_END</h3>
<p>Ending port for browser instance WebSocket servers.</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Default</td><td><code>3399</code></td></tr><tr><td>Type</td><td>Integer</td></tr><tr><td>Example</td><td><code>WS_PORT_END=4099</code></td></tr></tbody></table></div><p><strong>Note:</strong> The number of available ports determines the maximum concurrent browser instances.</p>
<h2>Authentication</h2>
<h3>AUTH_ENABLED</h3>
<p>Enable token-based authentication.</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Default</td><td><code>false</code> (local) / <code>true</code> (remote)</td></tr><tr><td>Type</td><td>Boolean</td></tr><tr><td>Example</td><td><code>AUTH_ENABLED=true</code></td></tr></tbody></table></div><h3>AUTH_TOKENS</h3>
<p>Comma-separated list of valid authentication tokens.</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Default</td><td>(none)</td></tr><tr><td>Type</td><td>Comma-separated strings</td></tr><tr><td>Example</td><td><code>AUTH_TOKENS=token1,token2,token3</code></td></tr></tbody></table></div><p><strong>Required</strong> when <code>AUTH_ENABLED=true</code> and accepting external connections.</p>
<h2>TLS/HTTPS</h2>
<h3>TLS_ENABLED</h3>
<p>Enable HTTPS/WSS instead of HTTP/WS.</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Default</td><td><code>false</code></td></tr><tr><td>Type</td><td>Boolean</td></tr><tr><td>Example</td><td><code>TLS_ENABLED=true</code></td></tr></tbody></table></div><h3>TLS_CERT_PATH</h3>
<p>Path to TLS certificate file.</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Default</td><td>(none)</td></tr><tr><td>Type</td><td>File path</td></tr><tr><td>Example</td><td><code>TLS_CERT_PATH=/etc/ssl/cert.pem</code></td></tr></tbody></table></div><p><strong>Required</strong> when <code>TLS_ENABLED=true</code>.</p>
<h3>TLS_KEY_PATH</h3>
<p>Path to TLS private key file.</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Default</td><td>(none)</td></tr><tr><td>Type</td><td>File path</td></tr><tr><td>Example</td><td><code>TLS_KEY_PATH=/etc/ssl/key.pem</code></td></tr></tbody></table></div><p><strong>Required</strong> when <code>TLS_ENABLED=true</code>.</p>
<h2>CORS</h2>
<h3>CORS_ENABLED</h3>
<p>Enable CORS handling with configurable origins.</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Default</td><td><code>false</code> (local) / <code>true</code> (remote)</td></tr><tr><td>Type</td><td>Boolean</td></tr><tr><td>Example</td><td><code>CORS_ENABLED=true</code></td></tr></tbody></table></div><h3>CORS_ORIGINS</h3>
<p>Comma-separated list of allowed origins.</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Default</td><td>Empty (allows all origins when CORS enabled)</td></tr><tr><td>Type</td><td>Comma-separated URLs</td></tr><tr><td>Example</td><td><code>CORS_ORIGINS=https://app.example.com,https://admin.example.com</code></td></tr></tbody></table></div><h3>CORS_CREDENTIALS</h3>
<p>Allow credentials in CORS requests.</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Default</td><td><code>true</code></td></tr><tr><td>Type</td><td>Boolean</td></tr><tr><td>Example</td><td><code>CORS_CREDENTIALS=false</code></td></tr></tbody></table></div><h2>Rate Limiting</h2>
<h3>RATE_LIMIT_ENABLED</h3>
<p>Enable rate limiting.</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Default</td><td><code>false</code> (local) / <code>true</code> (remote)</td></tr><tr><td>Type</td><td>Boolean</td></tr><tr><td>Example</td><td><code>RATE_LIMIT_ENABLED=true</code></td></tr></tbody></table></div><h3>RATE_LIMIT_MAX_CONNECTIONS</h3>
<p>Maximum connections per IP address.</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Default</td><td><code>10</code></td></tr><tr><td>Type</td><td>Integer</td></tr><tr><td>Example</td><td><code>RATE_LIMIT_MAX_CONNECTIONS=5</code></td></tr></tbody></table></div><h3>RATE_LIMIT_MAX_CALLS</h3>
<p>Maximum API calls per minute per IP address.</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Default</td><td><code>100</code></td></tr><tr><td>Type</td><td>Integer</td></tr><tr><td>Example</td><td><code>RATE_LIMIT_MAX_CALLS=50</code></td></tr></tbody></table></div><h2>Browser Defaults</h2>
<h3>BROWSER_DEFAULT_MODE</h3>
<p>Default browser mode when not specified in tool call.</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Default</td><td><code>chromium</code></td></tr><tr><td>Type</td><td><code>chrome</code>, <code>testing</code>, or <code>chromium</code></td></tr><tr><td>Example</td><td><code>BROWSER_DEFAULT_MODE=testing</code></td></tr></tbody></table></div><h3>HEADLESS_DEFAULT</h3>
<p>Run browsers in headless mode by default.</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Default</td><td><code>false</code> (local) / <code>true</code> (remote)</td></tr><tr><td>Type</td><td>Boolean</td></tr><tr><td>Example</td><td><code>HEADLESS_DEFAULT=true</code></td></tr></tbody></table></div><p><strong>Note:</strong> Headless only works with <code>chromium</code> mode.</p>
<h3>EXTENSION_PATH</h3>
<p>Path to Chrome extension directory. For development with local extension.</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Default</td><td><code>~/.moonsurf/extension</code></td></tr><tr><td>Type</td><td>Directory path</td></tr><tr><td>Example</td><td><code>EXTENSION_PATH=../chrome-extension/dist</code></td></tr></tbody></table></div><h2>Logging</h2>
<h3>LOG_LEVEL</h3>
<p>Logging verbosity level.</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Default</td><td><code>info</code></td></tr><tr><td>Type</td><td><code>debug</code>, <code>info</code>, <code>warn</code>, or <code>error</code></td></tr><tr><td>Example</td><td><code>LOG_LEVEL=debug</code></td></tr></tbody></table></div><h3>AUDIT_LOG_ENABLED</h3>
<p>Enable audit logging of security-relevant events.</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Default</td><td><code>false</code> (local) / <code>true</code> (remote)</td></tr><tr><td>Type</td><td>Boolean</td></tr><tr><td>Example</td><td><code>AUDIT_LOG_ENABLED=true</code></td></tr></tbody></table></div><p>Logged events:</p>
<ul>
<li><code>SSE_CONNECTED</code> / <code>SSE_DISCONNECTED</code></li>
<li><code>AUTH_FAILED</code></li>
<li><code>RATE_LIMITED</code></li>
<li><code>MCP_REQUEST</code></li>
<li><code>EXTENSION_REGISTERED</code></li>
<li><code>TASK_SUBMITTED</code> / <code>TASK_CANCELLED</code></li>
</ul>
<h2>Task Execution</h2>
<h3>TASKS_ENABLED</h3>
<p>Enable the task execution system.</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Default</td><td><code>true</code></td></tr><tr><td>Type</td><td>Boolean</td></tr><tr><td>Example</td><td><code>TASKS_ENABLED=false</code></td></tr></tbody></table></div><h3>TASKS_WS_PORT</h3>
<p>WebSocket port for task updates.</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Default</td><td><code>3400</code></td></tr><tr><td>Type</td><td>Integer</td></tr><tr><td>Example</td><td><code>TASKS_WS_PORT=4400</code></td></tr></tbody></table></div><h3>TASKS_COMMAND_TIMEOUT</h3>
<p>Timeout for individual task commands in milliseconds.</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Default</td><td><code>60000</code> (60 seconds)</td></tr><tr><td>Type</td><td>Integer</td></tr><tr><td>Example</td><td><code>TASKS_COMMAND_TIMEOUT=120000</code></td></tr></tbody></table></div><h3>TASKS_MAX_QUEUE_SIZE</h3>
<p>Maximum number of tasks that can be queued per browser instance.</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Default</td><td><code>100</code></td></tr><tr><td>Type</td><td>Integer</td></tr><tr><td>Example</td><td><code>TASKS_MAX_QUEUE_SIZE=50</code></td></tr></tbody></table></div><h2>Example Configurations</h2>
<h3>Development</h3>
<pre><code class="language-bash">LOG_LEVEL=debug \
EXTENSION_PATH=../chrome-extension/dist \
moonsurf</code></pre><h3>CI/CD Testing</h3>
<pre><code class="language-bash">BROWSER_DEFAULT_MODE=testing \
HEADLESS_DEFAULT=true \
TASKS_ENABLED=false \
moonsurf</code></pre><h3>Production</h3>
<pre><code class="language-bash">REMOTE_MODE=true \
PORT=443 \
PUBLIC_URL=https://mcp.example.com \
AUTH_TOKENS=secret-token-1,secret-token-2 \
TLS_ENABLED=true \
TLS_CERT_PATH=/etc/letsencrypt/live/mcp.example.com/fullchain.pem \
TLS_KEY_PATH=/etc/letsencrypt/live/mcp.example.com/privkey.pem \
CORS_ORIGINS=https://app.example.com \
RATE_LIMIT_MAX_CALLS=50 \
LOG_LEVEL=info \
moonsurf</code></pre><h3>Docker</h3>
<pre><code class="language-dockerfile">ENV PORT=3300
ENV HOST=0.0.0.0
ENV REMOTE_MODE=true
ENV AUTH_TOKENS=${AUTH_TOKENS}
ENV BROWSER_DEFAULT_MODE=chromium
ENV HEADLESS_DEFAULT=true</code></pre><h2>Related</h2>
<ul>
<li><a href="local-mode.html">Local Mode</a> - Development configuration</li>
<li><a href="remote-mode.html">Remote Mode</a> - Production configuration</li>
<li><a href="security-hardening.html">Security Hardening</a> - Security best practices</li>
</ul>

    </article>
  </main>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <script>
    // Initialize Lucide icons
    lucide.createIcons();

    // Initialize syntax highlighting
    hljs.highlightAll();

    // Toggle sections
    document.querySelectorAll('.section-title').forEach(title => {
      title.addEventListener('click', () => {
        title.parentElement.classList.toggle('open');
      });
    });
  </script>
</body>
</html>