<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Getting Started - Moonsurf Documentation</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Poltawski+Nowy:wght@400;500;600;700&display=block" as="style">
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=block" as="style">
  <link rel="stylesheet" href="../assets/styles.css">
</head>
<body>
  <nav class="sidebar">
  <div class="sidebar-header">
    <a href="../index.html" class="logo">Moonsurf</a>
  </div>
  <ul class="nav-list">
    <li><a href="../index.html">Moonsurf Browser Control Documentation</a></li>
    <li class="nav-section">
      <span class="section-title"><i data-lucide="rocket"></i>Getting Started</span>
      <ul class="section-items">
        <li><a href="../getting-started/README.html">Overview</a></li>
        <li><a href="../getting-started/connecting-ai-clients.html">Connecting AI Clients</a></li>
        <li><a href="../getting-started/first-automation.html">First Automation</a></li>
        <li><a href="../getting-started/installation.html">Installation</a></li>
      </ul>
    </li>
    <li class="nav-section">
      <span class="section-title"><i data-lucide="lightbulb"></i>Concepts</span>
      <ul class="section-items">
        <li><a href="../concepts/README.html">Overview</a></li>
        <li><a href="../concepts/architecture.html">Architecture</a></li>
        <li><a href="../concepts/browser-modes.html">Browser Modes</a></li>
        <li><a href="../concepts/extension-communication.html">Extension Communication</a></li>
        <li><a href="../concepts/instance-lifecycle.html">Instance Lifecycle</a></li>
        <li><a href="../concepts/mcp-protocol.html">MCP Protocol</a></li>
      </ul>
    </li>
    <li class="nav-section">
      <span class="section-title"><i data-lucide="wrench"></i>Tools</span>
      <ul class="section-items">
        <li><a href="../tools/README.html">Overview</a></li>
        <li><a href="../tools/browser-content.html">browser_content</a></li>
        <li><a href="../tools/browser-debug.html">browser_debug</a></li>
        <li><a href="../tools/browser-emulate.html">browser_emulate</a></li>
        <li><a href="../tools/browser-execute.html">browser_execute</a></li>
        <li><a href="../tools/browser-instance.html">browser_instance</a></li>
        <li><a href="../tools/browser-interact.html">browser_interact</a></li>
        <li><a href="../tools/browser-navigate.html">browser_navigate</a></li>
        <li><a href="../tools/browser-network.html">browser_network</a></li>
        <li><a href="../tools/browser-tab.html">browser_tab</a></li>
      </ul>
    </li>
    <li class="nav-section">
      <span class="section-title"><i data-lucide="settings"></i>Configuration</span>
      <ul class="section-items">
        <li><a href="../configuration/README.html">Overview</a></li>
        <li><a href="../configuration/authentication.html">Authentication</a></li>
        <li><a href="../configuration/environment-variables.html">Environment Variables</a></li>
        <li><a href="../configuration/local-mode.html">Local Mode</a></li>
        <li><a href="../configuration/remote-mode.html">Remote Mode</a></li>
        <li><a href="../configuration/security-hardening.html">Security Hardening</a></li>
        <li><a href="../configuration/tls-setup.html">TLS Setup</a></li>
      </ul>
    </li>
    <li class="nav-section">
      <span class="section-title"><i data-lucide="book-open"></i>Guides</span>
      <ul class="section-items">
        <li><a href="../guides/README.html">Overview</a></li>
        <li><a href="../guides/debugging-tips.html">Debugging Tips Guide</a></li>
        <li><a href="../guides/file-downloads.html">File Downloads Guide</a></li>
        <li><a href="../guides/form-filling.html">Form Filling Guide</a></li>
        <li><a href="../guides/handling-popups.html">Handling Popups Guide</a></li>
        <li><a href="../guides/network-interception.html">Network Interception Guide</a></li>
        <li><a href="../guides/testing-workflows.html">Testing Workflows Guide</a></li>
        <li><a href="../guides/web-scraping.html">Web Scraping Guide</a></li>
      </ul>
    </li>
    <li class="nav-section">
      <span class="section-title"><i data-lucide="plug"></i>Integration</span>
      <ul class="section-items">
        <li><a href="../integration/README.html">Overview</a></li>
        <li><a href="../integration/ci-cd.html">CI/CD Integration</a></li>
        <li><a href="../integration/claude-code.html">Claude Code Integration</a></li>
        <li><a href="../integration/claude-desktop.html">Claude Desktop Integration</a></li>
        <li><a href="../integration/cursor.html">Cursor Integration</a></li>
        <li><a href="../integration/custom-clients.html">Custom Client Integration</a></li>
      </ul>
    </li>
    <li class="nav-section">
      <span class="section-title"><i data-lucide="code"></i>Api Reference</span>
      <ul class="section-items">
        <li><a href="../api-reference/README.html">Overview</a></li>
        <li><a href="../api-reference/error-codes.html">Error Codes</a></li>
        <li><a href="../api-reference/http-endpoints.html">HTTP Endpoints</a></li>
        <li><a href="../api-reference/sse-protocol.html">SSE Protocol</a></li>
        <li><a href="../api-reference/websocket-protocol.html">WebSocket Protocol</a></li>
      </ul>
    </li>
    <li class="nav-section open">
      <span class="section-title"><i data-lucide="list-checks"></i>Tasks</span>
      <ul class="section-items">
        <li><a href="../tasks/README.html">Overview</a></li>
        <li><a href="../tasks/architecture.html">Architecture Overview</a></li>
        <li><a href="../tasks/configuration.html">Configuration</a></li>
        <li><a href="../tasks/contributing.html">Contributing</a></li>
        <li><a href="../tasks/error-handling.html">Error Handling</a></li>
        <li><a href="../tasks/examples.html">Examples</a></li>
        <li><a href="../tasks/getting-started.html" class="active">Getting Started</a></li>
        <li><a href="../tasks/internals.html">Internals</a></li>
        <li><a href="../tasks/rest-api.html">REST API Reference</a></li>
        <li><a href="../tasks/task-format.html">Task Format</a></li>
        <li><a href="../tasks/websocket-api.html">WebSocket API Reference</a></li>
      </ul>
    </li>
    <li class="nav-section">
      <span class="section-title"><i data-lucide="terminal"></i>Development</span>
      <ul class="section-items">
        <li><a href="../development/README.html">Overview</a></li>
        <li><a href="../development/adding-tools.html">Adding Tools</a></li>
        <li><a href="../development/debugging.html">Debugging</a></li>
        <li><a href="../development/extension-development.html">Extension Development</a></li>
        <li><a href="../development/internals.html">Internals</a></li>
        <li><a href="../development/local-setup.html">Local Development Setup</a></li>
        <li><a href="../development/project-structure.html">Project Structure</a></li>
        <li><a href="../development/release-process.html">Release Process</a></li>
        <li><a href="../development/testing.html">Testing</a></li>
      </ul>
    </li>
  </ul>
  <div class="sidebar-footer">
    <div class="version">v2.0.0</div>
    <div class="generated">Generated 2026-01-26</div>
  </div>
</nav>

  <main class="content">
    <article>
      <h1>Getting Started</h1>
<p>This guide will help you submit your first task and understand the basics of the Task Execution System.</p>
<h2>Prerequisites</h2>
<ol>
<li>Moonsurf browser-control server running</li>
<li>A connected browser instance</li>
<li>A WebSocket client or HTTP client</li>
</ol>
<h2>Starting the Server</h2>
<pre><code class="language-bash"># Start the server
npm start

# Or with local extension for development
EXTENSION_PATH=../chrome-extension/dist npm start</code></pre><p>You should see:</p>
<pre><code class="language-plaintext">[Config]   Tasks: ENABLED (port: 3400, timeout: 60000ms)
[TaskWS] Server listening on localhost:3400</code></pre><h2>Launching a Browser Instance</h2>
<p>Before submitting tasks, you need a connected browser instance. Use the MCP API:</p>
<pre><code class="language-bash"># Connect to SSE and get session
SESSION_ID=$(curl -sN --max-time 2 http://localhost:3300/sse | grep -oE &#039;[0-9a-f-]{36}&#039; | head -1)

# Initialize MCP
curl -X POST &quot;http://localhost:3300/message?sessionId=$SESSION_ID&quot; \
  -H &quot;Content-Type: application/json&quot; \
  -d &#039;{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:1,&quot;method&quot;:&quot;initialize&quot;,&quot;params&quot;:{&quot;protocolVersion&quot;:&quot;2024-11-05&quot;,&quot;capabilities&quot;:{},&quot;clientInfo&quot;:{&quot;name&quot;:&quot;test&quot;,&quot;version&quot;:&quot;1.0&quot;}}}&#039;

# Launch browser
curl -X POST &quot;http://localhost:3300/message?sessionId=$SESSION_ID&quot; \
  -H &quot;Content-Type: application/json&quot; \
  -d &#039;{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:2,&quot;method&quot;:&quot;tools/call&quot;,&quot;params&quot;:{&quot;name&quot;:&quot;browser_instance&quot;,&quot;arguments&quot;:{&quot;action&quot;:&quot;new&quot;,&quot;mode&quot;:&quot;chromium&quot;}}}&#039;</code></pre><h2>Your First Task</h2>
<h3>Option 1: Using WebSocket (Recommended)</h3>
<p>WebSocket provides real-time progress updates.</p>
<pre><code class="language-javascript">const WebSocket = require(&#039;ws&#039;);
const ws = new WebSocket(&#039;ws://localhost:3400&#039;);

ws.on(&#039;open&#039;, () =&gt; {
  // Submit a task
  ws.send(JSON.stringify({
    type: &#039;task_submit&#039;,
    task_name: &#039;My First Task&#039;,
    task_intention: &#039;Navigate to a website and take a screenshot&#039;,
    commands: [
      {
        tool_name: &#039;browser_navigate&#039;,
        intention: &#039;Go to example.com&#039;,
        args: { action: &#039;goto&#039;, url: &#039;https://example.com&#039; }
      },
      {
        tool_name: &#039;browser_content&#039;,
        intention: &#039;Capture screenshot&#039;,
        args: { action: &#039;screenshot&#039; }
      }
    ]
  }));
});

ws.on(&#039;message&#039;, (data) =&gt; {
  const msg = JSON.parse(data.toString());

  switch (msg.type) {
    case &#039;welcome&#039;:
      console.log(&#039;Connected! Session:&#039;, msg.sessionId);
      break;

    case &#039;task_submit_response&#039;:
      console.log(&#039;Task accepted:&#039;, msg.taskId);
      break;

    case &#039;task_progress&#039;:
      console.log(`Command ${msg.commandIndex + 1}: ${msg.status} - ${msg.intention}`);
      break;

    case &#039;task_complete&#039;:
      console.log(&#039;Task completed!&#039;, msg.summary);
      ws.close();
      break;
  }
});</code></pre><p><strong>Output:</strong></p>
<pre><code class="language-plaintext">Connected! Session: a1b2c3d4-...
Task accepted: task_1234567890_1
Command 1: running - Go to example.com
Command 1: success - Go to example.com
Command 2: running - Capture screenshot
Command 2: success - Capture screenshot
Task completed! { totalCommands: 2, successfulCommands: 2, duration: 1234 }</code></pre><h3>Option 2: Using REST API</h3>
<p>For simpler use cases without real-time updates.</p>
<pre><code class="language-bash"># Submit a task
curl -X POST http://localhost:3300/tasks \
  -H &quot;Content-Type: application/json&quot; \
  -d &#039;{
    &quot;task_name&quot;: &quot;My First Task&quot;,
    &quot;task_intention&quot;: &quot;Navigate and screenshot&quot;,
    &quot;commands&quot;: [
      {&quot;tool_name&quot;: &quot;browser_navigate&quot;, &quot;intention&quot;: &quot;Navigate&quot;, &quot;args&quot;: {&quot;action&quot;: &quot;goto&quot;, &quot;url&quot;: &quot;https://example.com&quot;}},
      {&quot;tool_name&quot;: &quot;browser_content&quot;, &quot;intention&quot;: &quot;Screenshot&quot;, &quot;args&quot;: {&quot;action&quot;: &quot;screenshot&quot;}}
    ]
  }&#039;

# Response:
# {&quot;taskId&quot;: &quot;task_1234567890_1&quot;, &quot;queuePosition&quot;: 1, &quot;wsEndpoint&quot;: &quot;ws://localhost:3400&quot;}

# Check task status
curl http://localhost:3300/tasks/task_1234567890_1</code></pre><h2>Understanding the Response</h2>
<h3>Task Submit Response</h3>
<pre><code class="language-json">{
  &quot;taskId&quot;: &quot;task_1234567890_1&quot;,
  &quot;queuePosition&quot;: 1,
  &quot;wsEndpoint&quot;: &quot;ws://localhost:3400&quot;
}</code></pre><ul>
<li><code>taskId</code>: Unique identifier for tracking the task</li>
<li><code>queuePosition</code>: Position in the queue (1 = next to run or running)</li>
<li><code>wsEndpoint</code>: WebSocket URL for real-time updates</li>
</ul>
<h3>Progress Updates (WebSocket)</h3>
<p>Each command emits two progress events:</p>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;task_progress&quot;,
  &quot;taskId&quot;: &quot;task_1234567890_1&quot;,
  &quot;commandId&quot;: &quot;task_1234567890_1_cmd_0&quot;,
  &quot;commandIndex&quot;: 0,
  &quot;totalCommands&quot;: 2,
  &quot;status&quot;: &quot;running&quot;,
  &quot;timestamp&quot;: 1234567890123,
  &quot;tool_name&quot;: &quot;browser_navigate&quot;,
  &quot;intention&quot;: &quot;Go to example.com&quot;
}</code></pre><p>Then on completion:</p>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;task_progress&quot;,
  &quot;status&quot;: &quot;success&quot;,
  &quot;result&quot;: { ... }
}</code></pre><p>Or on error:</p>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;task_progress&quot;,
  &quot;status&quot;: &quot;error&quot;,
  &quot;error&quot;: { &quot;code&quot;: &quot;EXECUTION_ERROR&quot;, &quot;message&quot;: &quot;Element not found&quot; }
}</code></pre><h2>Handling Errors</h2>
<p>If a command fails, the task stops immediately:</p>
<pre><code class="language-javascript">ws.on(&#039;message&#039;, (data) =&gt; {
  const msg = JSON.parse(data.toString());

  if (msg.type === &#039;task_progress&#039; &amp;&amp; msg.status === &#039;error&#039;) {
    console.error(`Command failed: ${msg.error.message}`);
    // Remaining commands will be skipped
  }

  if (msg.type === &#039;task_complete&#039; &amp;&amp; msg.status === &#039;failed&#039;) {
    console.error(&#039;Task failed at command:&#039;, msg.summary.failedCommandIndex);
    console.error(&#039;Error:&#039;, msg.error);
  }
});</code></pre><h2>Cancelling a Task</h2>
<pre><code class="language-bash"># Cancel via REST
curl -X POST http://localhost:3300/tasks/task_1234567890_1/cancel

# Or via WebSocket
ws.send(JSON.stringify({
  type: &#039;task_cancel&#039;,
  taskId: &#039;task_1234567890_1&#039;
}));</code></pre><h2>Next Steps</h2>
<ul>
<li>Learn the full <a href="./task-format.html">Task Format</a></li>
<li>Explore the <a href="./websocket-api.html">WebSocket API</a></li>
<li>See more <a href="./examples.html">Examples</a></li>
</ul>

    </article>
  </main>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <script>
    // Initialize Lucide icons
    lucide.createIcons();

    // Initialize syntax highlighting
    hljs.highlightAll();

    // Toggle sections
    document.querySelectorAll('.section-title').forEach(title => {
      title.addEventListener('click', () => {
        title.parentElement.classList.toggle('open');
      });
    });
  </script>
</body>
</html>